<!DOCTYPE html>

<html>
  <head>
    <title>Local-Liquidator</title>
    <script src="js/elm-runtime.js"></script>
    <script src="build/ElmStuff.js"></script>
    <link rel="stylesheet" type="text/css" href="css/mystyle.css">
  </head>
  
  <body>
    
    <h1>A Header!</h1>
    <p>And below the header, we have a lovely paragraph.  Just fabulous.</p>
    
    <div id="myElmDiv"></div>
    <!-- <div id="texture"><img src="images/texture.jpg"></div>    -->
    <p>There are currently <span id="current-count">0</span> stamps.
     <button onclick="resetStamps()">Reset</button>
    </p>
  <p>You have created <span id="total-count">0</span> stamps in total.</p>
  </body>
  <script>
    
    var div = document.getElementById("myElmDiv");	// reference to Elm program
    var mbed = Elm.embed(Elm.ElmStuff, div);	// establishes channel for Elm i/o
    function resetStamps() {
     mbed.send('reset', 42);
    }
    var currentCount = document.getElementById('current-count');
    var totalCount = document.getElementById('total-count');
    var total = 0;
    mbed.recv('count', function(event) {
	currentCount.innerHTML = event.value;
	if (event.value > 0) {
       	  total += 1;
          totalCount.innerHTML = total;
      }
    });
  </script>
</html>
