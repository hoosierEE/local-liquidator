<!DOCTYPE HTML>

<html>
    <head>
        <meta charset="UTF-8">
        <title>
            Login
        </title>
        <script type="text/javascript" src="/elm-runtime.js">
            
        </script>
        <script type="text/javascript">
            Elm.Main = Elm.Main || {};
Elm.Main.make = function (elm)
                {
                  elm.Main = elm.Main || {};
                  if (elm.Main.values)
                  return elm.Main.values;
                  var N = Elm.Native,
                      _N = N.Utils.make(elm),
                      _L = N.List.make(elm),
                      _E = N.Error.make(elm),
                      _J = N.JavaScript.make(elm),
                      $moduleName = "Main";
                  var Text = Elm.Text.make(elm);
                  var Text = Elm.Text.make(elm);
                  var Basics = Elm.Basics.make(elm);
                  var Signal = Elm.Signal.make(elm);
                  var List = Elm.List.make(elm);
                  var Maybe = Elm.Maybe.make(elm);
                  var Time = Elm.Time.make(elm);
                  var Prelude = Elm.Prelude.make(elm);
                  var Graphics = Graphics || {};
                  Graphics.Element = Elm.Graphics.Element.make(elm);
                  var Color = Elm.Color.make(elm);
                  var Graphics = Graphics || {};
                  Graphics.Collage = Elm.Graphics.Collage.make(elm);
                  var Graphics = Graphics || {};
                  Graphics.Input = Elm.Graphics.Input.make(elm);
                  var Http = Elm.Http.make(elm);
                  var String = Elm.String.make(elm);
                  var Window = Elm.Window.make(elm);
                  var _op = {};
                  var url = "/php/getUser.php";
                  var scene = F3(function (box,result,sendble)
                                 {
                                   return A2(Graphics.Element.flow,
                                             Graphics.Element.down,
                                             _J.toList([A2(Graphics.Element.flow,
                                                           Graphics.Element.right,
                                                           _J.toList([box,Text.asText(sendble)])),
                                                        result]));
                                 });
                  var prettyPrint = function (res)
                                    {
                                      return function ()
                                             {
                                               switch (res.ctor)
                                               {case
                                                "Failure" :
                                                  return Text.plainText("");
                                                case
                                                "Success" :
                                                  return Text.plainText(res._0);
                                                case
                                                "Waiting" :
                                                  return Text.plainText("");}
                                               _E.Case($moduleName,"between lines 32 and 35");
                                             }();
                                    };
                  var getLogin = function (req)
                                 {
                                   return Http.send(A2(Signal.lift,
                                                       function (r)
                                                       {
                                                         return A2(Http.post,r,"");
                                                       },
                                                       req));
                                 };
                  var $ = Graphics.Input.button("Login"),butn = $._0,press = $._1;
                  var isClicked = function ()
                                  {
                                    var always = F2(function (value,signal)
                                                    {
                                                      return A2(Signal.lift,
                                                                function (arg0)
                                                                {
                                                                  return function ()
                                                                         {
                                                                           return value;
                                                                         }();
                                                                },
                                                                signal);
                                                    });
                                    return A2(Signal.merge,
                                              A2(always,false,A2(Time.delay,0,press)),
                                              A2(always,true,press));
                                  }();
                  var sendAttempt = A2(Signal.lift,
                                       function (c)
                                       {
                                         return _N.cmp(c,0) > 0;
                                       },
                                       Signal.count(press));
                  var sendable = A2(Signal._op["~"],
                                    A2(Signal._op["<~"],
                                       F2(function (x,y)
                                          {
                                            return x && y;
                                          }),
                                       sendAttempt),
                                    isClicked);
                  var sendRequest = A2(Signal.keepWhen,
                                       sendable,
                                       "")(Signal.constant(url));
                  var loginResponse = A2(Signal._op["<~"],
                                         prettyPrint,
                                         getLogin(sendRequest));
                  var main = A2(Signal._op["~"],
                                A2(Signal._op["~"],
                                   A2(Signal._op["<~"],scene,Signal.constant(butn)),
                                   loginResponse),
                                sendRequest);
                  var userEntry = Graphics.Element.flow(Graphics.Element.down)(_J.toList([A3(Graphics.Element.size,
                                                                                             60,
                                                                                             30,
                                                                                             butn)]));
                  elm.Main.values = {_op: _op, url: url, butn: butn, press: press, sendAttempt: sendAttempt, isClicked: isClicked, sendable: sendable, userEntry: userEntry, sendRequest: sendRequest, getLogin: getLogin, prettyPrint: prettyPrint, loginResponse: loginResponse, scene: scene, main: main};
                  return elm.Main.values;
                };
        </script>
    </head>
    <body>
        <script type="text/javascript">
            Elm.fullscreen(Elm.Main)
        </script>
        <noscript>
            
        </noscript>
    </body>
</html>
